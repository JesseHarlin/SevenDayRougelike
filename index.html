<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript" src="akihabara/src/akihabara.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="resources/level_generator.js"></script>

    <!--	    <script type="text/javascript" src="akihabara/src/input.js"></script>
		<script type="text/javascript" src="akihabara/src/audio.js"></script>
		<script type="text/javascript" src="akihabara/src/debug.js"></script>
		<script type="text/javascript" src="akihabara/src/trigo.js"></script>
		<script type="text/javascript" src="akihabara/src/plugins/topview.js"></script>
		<script type="text/javascript" src="akihabara/src/gbox.js"></script>
		<script type="text/javascript" src="akihabara/src/iphopad.js"></script>
		<script type="text/javascript" src="akihabara/src/toys.js"></script>
		<script type="text/javascript" src="akihabara/src/tile.js"></script>
		<script type="text/javascript" src="akihabara/src/helpers.js"></script>
		<script type="text/javascript" src="akihabara/src/tools.js"></script>
		<script type="text/javascript" src="akihabara/src/gamecycle.js"></script>
		<script type="text/javascript" src="akihabara/src/devices.js"></script>

	
		<script type="text/javascript" src="src/player.js"></script>-->


    <!--<script type="text/javascript" src="src/game.js"></script>-->
    <style type="text/css">
        BODY
        {
            -webkit-user-select: none;
            margin: 0px;
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Level  Generator</title>
</head>
<body>
    <button id="smackit">GEN</button>
    <div id="derp">
    </div>
    
    

</body>
<style>
    td
    {
        width: 32px;
        height: 32px;
        text-align: center;
        border: 1px white solid;
        color: #99FF55;
        font-size: 70%
    }
    table {
        border-collapse: collapse
    }



</style>
<script>



    $(document).ready(function () {

        var levelGen = function () {
            var level = poop.generateRandomLevel({
                width: 22,
                height: 16,
                divisions: 15,
                minSubdivideAmt: 5,
                minParentWidth: 15,
                corners: false,
                pathThickness: [1, 2],
                porportionTolerance: 5,
                randomRoomSizeRandomToFixedRatio: [0.8, 0.2],
                porportionTriesUntilBreakSafety: 1000
                
                

            });
            
            var levelLength = level.length;
            var table = "<table>";
            var colorlist = [
                "#000000",
                "rgba(172, 236, 68, 0.6)",
                "rgba(255, 32, 7, 0.6)",
                "rgba(225, 78, 212, 0.6)",
                "rgba(128,125,0,0.6)",
                "rgba(128,255,0,0.6)",
                "rgba(128,255,125,0.6)",
                "rgba(255,255,0,0.6)",
                "rgba(128,0,0,128,0.6)",
                "rgba(128,0,128,0.6)",
                "rgba(128,0,200,0.4)",
                "rgba(128,255,0,0.4)",
                "rgba(128,255,0,0.4)",
                "rgba(128,255,0,0.4)",
                "rgba(128,255,0,0.4)",
                "rgba(128,255,0,0.4)"
            ];
            for (var i = 0; i < levelLength; i++) {
                table += "<tr>";
                var tdLength = level[i].length;
                for (var j = 0; j < tdLength; j++) {
                    var val = level[i][j];
                    var color;
                    if (typeof val == 'number') {
                        color = colorlist[val];
                    } else {
                        color = val;
                    }

                    table += "<td style='background-color:" + color + "'>"+i  +"-"+ j+"</td>";
                }
                table += "</tr>";
            }
            table += "</table>";
            
            $('#derp').html(table);
        };

        levelGen();
        $('#smackit').click(levelGen);
    });

</script>
</html>
